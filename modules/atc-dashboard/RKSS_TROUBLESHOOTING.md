# RKSS 연결 문제 해결 가이드

## 수정된 내용

### 1. 환경 설정 파일 추가 (.env)
- API URL과 WebSocket URL을 환경 변수로 관리
- 디버그 모드 설정 가능

### 2. SystemStatus 컴포넌트 개선
- 로딩 상태 표시 추가
- 에러 메시지 표시
- 버튼 비활성화 로직 추가
- WebSocket 연결 상태를 더 명확하게 표시

### 3. WebSocketProvider 개선
- 자동 재연결 기능 추가 (5초 간격)
- 환경 변수를 통한 URL 설정
- 더 나은 에러 처리

### 4. API 서비스 개선
- 더 자세한 에러 메시지
- 서버 연결 실패 시 한글 메시지 표시

## RKSS 버튼이 작동하지 않을 때 확인사항

### 1. 백엔드 서버 확인
```bash
# 백엔드 서버가 실행 중인지 확인
cd ../adsb-data-simulator
./mvnw spring-boot:run
```

### 2. API 연결 테스트
```bash
# ATC Dashboard 디렉토리에서 실행
node test-api.js
```

### 3. 브라우저 콘솔 확인
- F12를 눌러 개발자 도구 열기
- Console 탭에서 에러 메시지 확인
- Network 탭에서 API 요청 상태 확인

### 4. 환경 변수 확인
`.env` 파일이 올바르게 설정되어 있는지 확인:
```
REACT_APP_API_URL=http://localhost:8080
REACT_APP_WS_URL=http://localhost:8080/ws/adsb/realtime
```

## 버튼 작동 순서

1. **RKSS 로드**: RKSS 데이터 파일을 메모리에 로드
2. **▶ 시작**: 실시간 플레이백 시작
3. **■ 중지**: 플레이백 중지

## 일반적인 문제와 해결 방법

### "서버에 연결할 수 없습니다" 에러
- 백엔드 서버가 실행 중인지 확인
- 포트 8080이 사용 가능한지 확인
- 방화벽 설정 확인

### WebSocket 연결 끊김
- 자동으로 5초 후 재연결 시도
- 계속 실패하면 백엔드 서버 재시작

### RKSS 데이터 로드 실패
- 백엔드의 데이터 파일 경로 확인
- 파일 권한 확인
- 로그에서 자세한 에러 메시지 확인

## 디버그 모드 활성화

`.env` 파일에서 디버그 모드를 활성화하면 더 자세한 로그를 볼 수 있습니다:
```
REACT_APP_ENABLE_DEBUG=true
```

## 추가 지원

문제가 지속되면 다음을 확인하세요:
1. 백엔드 로그 (`adsb-data-simulator` 콘솔)
2. 프론트엔드 로그 (브라우저 콘솔)
3. 네트워크 탭에서 실패한 요청의 상세 정보