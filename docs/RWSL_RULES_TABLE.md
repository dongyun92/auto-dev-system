# RWSL 규칙 상세 테이블

## 1. REL (Runway Entrance Lights) 규칙 테이블

| 조건 | 파라미터 | 값 | 동작 | 우선순위 |
|------|----------|-----|------|----------|
| **고속 트래픽** | | | | 1 |
| - 활주로 점유 | 속도 | ≥ 30 kt | REL ON | |
| - 스캔 범위 | 거리 | 3,700 m (2 NM) | | |
| **접근 항공기** | | | | 2 |
| - 거리 | 활주로까지 | ≤ 1,852 m (1 NM) | REL ON | |
| - 고도 | AGL | ≤ 300 ft | | |
| - 수직 속도 | VS | < -100 fpm | | |
| **이륙 의도** | | | | 3 |
| - 위치 | 활주로상 | Yes | REL ON | |
| - 속도 | 지상속도 | ≥ 5 kt | | |
| - 가속도 | 가속도 | > 0.5 m/s² | | |
| - 정렬 | 활주로 방향 | ± 10° | | |
| **캐스케이드 소등** | | | | - |
| - 리드 타임 | 통과 전 | 3 초 | REL OFF | |
| - 순서 | 방향 | 진행방향 | 순차적 | |
| **전체 소등** | | | | - |
| - 고도 | MSL | > 200 ft | 모든 REL OFF | |

## 2. THL (Takeoff Hold Lights) 규칙 테이블

| 조건 | 파라미터 | 값 | 동작 | 우선순위 |
|------|----------|-----|------|----------|
| **Track 1: 출발기** | | | | - |
| - 위치 | 임계값부터 | ≤ 100 m | 후보 | |
| - 방향 | 활주로 정렬 | ± 10° | | |
| - 의도 | 속도 OR 가속 | ≥ 5 kt OR > 0 | | |
| **Track 2: 충돌기** | | | | - |
| - 착륙 | 고도 | ≤ 1,500 ft | 평가 | 1 |
| | 하강률 | < -100 fpm | | |
| | 충돌 창 | < 8 초 | THL ON | |
| - 교차 | 평행활주로 | 고속 트래픽 | 평가 | 2 |
| | 충돌 창 | 5 초 (고정) | THL ON | |
| - 반대 | 반대 임계값 | 출발 준비 | 평가 | 3 |
| | 충돌 창 | < 8 초 | THL ON | |
| **예상 분리** | | | | - |
| - 조건 | 선행기 속도 | ≥ 80 kt | 확인 | |
| - 여유 | 충돌 시간 | > 13 초 | THL OFF | |

## 3. RIL (Runway Intersection Lights) 규칙 테이블

| 조건 | 파라미터 | 값 | 동작 |
|------|----------|-----|------|
| **교차점 충돌** | | | |
| - 활주로1 | 활성 트래픽 | Yes | 평가 시작 |
| - 활주로2 | 활성 트래픽 | Yes | |
| - ETA 차이 | \|ETA1 - ETA2\| | < 15 초 | RIL ON |
| **김포 특화** | | | |
| - 교차 유형 | 평행 활주로 | N/A | 근접 모니터링 |

## 4. 방향성 감지 규칙 (REL)

| REL 타입 | 의미 | 활주로 방향 | 감지 섹터 |
|----------|------|-------------|-----------|
| _D (Departure) | TO RWY | REL 벡터의 오른쪽 90° | ±45° (90° 섹터) |
| _A (Arrival) | FROM RWY | REL 벡터의 왼쪽 90° | ±45° (90° 섹터) |

## 5. 상태 전이 규칙

| 현재 상태 | 조건 | 다음 상태 |
|-----------|------|-----------|
| PARKED | 속도 ≥ 3 kt | TAXI_OUT |
| TAXI_OUT | 활주로 진입 & 속도 < 10 kt | LINEUP |
| LINEUP | 속도 ≥ 30 kt | TAKEOFF_ROLL |
| TAKEOFF_ROLL | 고도 > 50 ft | AIRBORNE |
| AIRBORNE | 고도 < 1,500 ft & VS < -100 | APPROACH |
| APPROACH | 활주로 & 속도 감속 | LANDING_ROLL |
| LANDING_ROLL | 속도 < 30 kt | TAXI_IN |
| TAXI_IN | 속도 < 3 kt | PARKED |
| ANY | 스쿼크 7700 | EMERGENCY |

## 6. Fail-Safe 모드 전환 규칙

| 트리거 조건 | 임계값 | Fail-Safe 모드 | 동작 |
|------------|--------|----------------|------|
| 데이터 지연 | > 2,000 ms | SENSOR_LOSS | 모든 등화 ON |
| 신뢰도 | < 0.5 | PARTIAL_FAILURE | 안전 마진 150% |
| CPU 사용률 | > 85% | CPU_OVERLOAD | 업데이트 5Hz로 감소 |
| 수동 명령 | ATC 입력 | MANUAL_OVERRIDE | 명령 우선 적용 |

## 7. 김포공항 활주로별 REL 매핑

### 14L/32R 활주로 REL
| 유도로 | REL ID | 타입 | 위치 설명 |
|--------|--------|------|-----------|
| A | REL_A_D | TO RWY | 14L 접근용 |
| B | REL_B1_A | FROM RWY | 32R 출구용 |
| B | REL_B2_D | TO RWY | 14L 접근용 |
| C | REL_C1_A | FROM RWY | 32R 출구용 |
| C | REL_C2_D | TO RWY | 14L 접근용 |
| C | REL_C3_D | TO RWY | 14L 접근용 |
| D | REL_D1_A | FROM RWY | 32R 출구용 |
| D | REL_D2_D | TO RWY | 14L 접근용 |
| D | REL_D3_D | TO RWY | 14L 접근용 |
| E | REL_E1_A | FROM RWY | 32R 출구용 |
| E | REL_E2_D | TO RWY | 14L 접근용 |
| F | REL_F2_D | TO RWY | 32R 접근용 |
| G | REL_G1_A | FROM RWY | 14L 출구용 |
| G | REL_G2_D | TO RWY | 32R 접근용 |

### 14R/32L 활주로 REL
| 유도로 | REL ID | 타입 | 위치 설명 |
|--------|--------|------|-----------|
| W | REL_W1_D | TO RWY | 14R 접근용 |
| W | REL_W2_D | TO RWY | 14R 접근용 |
| B | REL_B1_D | TO RWY | 14R 접근용 |
| C | REL_C1_D | TO RWY | 14R 접근용 |
| D | REL_D1_D | TO RWY | 14R 접근용 |
| E | REL_E1_D | TO RWY | 14R 접근용 |
| G | REL_G1_D | TO RWY | 32L 접근용 |

## 8. 타이밍 파라미터 요약

| 파라미터 | 값 | 용도 |
|----------|-----|------|
| 업데이트 주기 | 0.1초 (10 Hz) | 시스템 리프레시 |
| REL 캐스케이드 | 3초 | 소등 리드 타임 |
| THL 충돌 창 | 8초 | T_conf |
| THL 안전 버퍼 | 2초 | 추가 여유 |
| THL 예상 분리 | 5초 | 회전 후 여유 |
| RIL 충돌 임계값 | 15초 | ETA 차이 |
| 센서 타임아웃 | 2초 | Fail-safe 트리거 |
| 위치 추정 | 5초 | GPS 손실 대응 |

## 9. 우선순위 매트릭스

| 상황 | REL | THL | RIL | 설명 |
|------|-----|-----|-----|------|
| 정상 운영 | 2 | 1 | 3 | THL이 최우선 |
| 착륙 우선 | 1 | 2 | 3 | REL이 중요 |
| 교차 운영 | 2 | 2 | 1 | RIL이 중요 |
| Fail-safe | 1 | 1 | 1 | 모두 최우선 |

## 10. 성능 지표

| 지표 | 목표값 | 측정 방법 |
|------|--------|-----------|
| False Negative | < 0.1% | 미감지 충돌 / 전체 충돌 |
| False Positive | < 5% | 오경보 / 전체 경보 |
| 응답 시간 | < 100 ms | 이벤트 → 등화 변경 |
| 동시 추적 | > 100 대 | 최대 항공기 수 |
| CPU 사용률 | < 50% | 평균 CPU 점유율 |
| 메모리 사용 | < 500 MB | 최대 RAM 사용량 |